This release adds a CAN-based bootloader.
This changes the memory layout of the app, as it is now preceeded by the
bootloader.
This requires, that all apps need to be rebuilt, and the bootloader needs to
flashed first.

This release features the quarterly dependency update of the following tools:

- Internal:

  - FreeRTOS-Plus-TCP ``4.3.2``
  - Waf: ``2.1.5``

- External:

  - Doxygen: ``1.14.0``
  - drawio-desktop: ``27.0.29``
  - Graphviz: ``13.0.0``
  - pre-commit Hooks: see below for version details
  - Python environment: ``2025-06-pale-fox``

See :ref:`SOFTWARE_INSTALLATION` on how to update the individual external
tools.

Added
=====

- Add a CAN-based bootloader.
- Add a GUI.
  The GUI is invoked through the ``fox CLI`` via the command ``gui``.
  The GUI supports the following tasks:

  - Run the build tool
  - Run the bootloader load-app command
  - Create the plot configuration files and enable subsequent plotting

- Add shortcut to open the GUI on Windows.
- Add ``vTaskNotifyGiveFromISR`` to OS wrapper.
- Add documentation how unit tests for the ``fox CLI`` should be written.
- Add documentation for the unit tests of the ``foxmath`` module.
- Add parts of the ``driver`` implementation of the the bootloader.
- Add a VS Code configuration for ``fox CLI`` development.
- Add ``vTaskSuspend()``, ``vTaskResume()`` and ``vTaskDelay()`` to os wrapper.
- Add some missing Python typing information.
- Add driver for the TI DP83869HM PHY.
- Add PowerShell support to the 'etl' command of the ``fox CLI``.
- Replace HALCoGen's autogenerated code with custom notification
  implementations.
  Notification implementations were originally generated by HALCoGen in
  ``HL_notification.c``.
  However, the autogenerated functions were defined as ``weak``, which
  introduced unnecessary complexity for unit testing.
  To address this, the autogenerated ``HL_notification.c`` files are now
  automatically removed after running HALCoGen,
  and instead custom notification implementations are directly provided in the
  repository.

Changed
=======

- Move measurement and helpers implementation of the NXP AFE MC33775A driver
  into separate files and refactor measurement and I2C implementations.
- Improve overall unit tests coverage of the NXP AFE MC33775A driver.
- Create a common codebase for the NXP MC3377X drivers.
- Replace the name of the function ``ADI_CopyCommandBits`` in the ADI AFE
  driver with 'ADI_CopyCommandBytes' to reflect the actual function behavior.
- Improve unittests of the ``check_doxygen.py`` script.
- Require all Python unit tests to define ``__main__`` symbol and call
  ``unittest.main`` inside ``__main__``.
- Improve hardware documentation.
- Fix variable shadowing in ``CRC`` module.
- Make variable shadowing a fatal error at build time.
- Replace ``*.png`` images with ``*.drawio`` images.
- Add a macro to enable/disable cache for the application during scheduler
  initialization.
  By default the macro is set to disable the cache.
- Check PowerShell version when running ``fox.ps1``.
  If the PowerShell version is less than 7, i.e., an unsupported version, the
  script prints an error message and exists.
- Clarify installation documentation.
- Improve ``fox.ps1`` and ``fox.sh`` wrapper scripts when using the ``gui``
  command.
- Restructure the SYS state machine to follow the FSM template.
- Improve the plot type configuration ``plot`` subcommand in the ``fox CLI``.
- Wait for the RTC module to be initialized before proceeding with the boot
  procedure in the ``system`` module state machine.
- Fix wrong year conversion resulting in incorrect weekdays in the RTC and
  automatically correct weekdays if set incorrectly.
- Exchange call to ``vTaskSuspend()`` with wrapper function.
- Improve transmission of build/system configuration information via CAN
  message ``f_DebugBuildConfiguration``.
- Change data layout of CAN message ``f_BmsFatalError`` and fix a bug to
  transmit the correct error code.
- Update Dependencies:

  - Internal:

    - FreeRTOS-Plus-TCP ``4.3.2``
    - Waf: ``2.1.5``

  - External:

    - Doxygen: ``1.14.0``
    - drawio-desktop: ``27.0.29``
    - Graphviz: ``13.0.0``
    - pre-commit Hooks:

      - ruff-pre-commit: ``0.11.11``
      - pyupgrade: ``3.20.0``
      - mirrors-clang-format: ``v20.1.5``

    - Python environment: ``2025-06-pale-fox``

Deprecated
==========

Removed
=======

- Remove all pylint 'skip-file' comments.
- Remove unused Waf-tool ``f_node_helper.py``.
- Remove unused members in the ``LTC_STATE_s`` struct.
- Remove unnecessary linker option ``--strict_compatibility=on``.
- Remove checking for duplicate function definitions pulled into the target
  executable during linking.
  This is only needed when defining ``weak`` functions and this should
  generally be avoided.

Fixed
=====

- Fix 'etl' documentation style.
- Fix import of the tested package in ``tests/cli/commands/test_c_bms.py``.
- Fix ``fox CLI`` unit tests on Linux.
- Unignore ``docs/tools/fox/etl/txt/decoded_can_log.txt`` in ``.gitignore``.
- Search for all tools defined in the installation procedure when running the
  ``install --check`` command on the ``fox CLI``.
- Check that the current user has permissions to read and write the RTS
  library.
- Adjust ``FreeRTOSConfig.h`` to current FreeRTOS version.
- Fix the unit test of user implemented functions for file
  ``src/app/task/os/freertos/os_freertos.c``
- Fix logging to a file in bms tool
- Enable 'plot' command to handle empty fields in ``csv`` files for columns
  with values of type string or integer.
- Improve installation instructions.
- Search always at ``C:\T32`` for a Lauterbach installation if ``HOMEDRIVE``
  does not point to ``C:``.
- Add the MATLAB include directory to the embedded compiler if it exists.
- Fix C++-style comment check.
- Fix Typo in Changelog.
- Fix decoding of commit hash in 'fox bms' command.
- Fix Lauterbach detection.
